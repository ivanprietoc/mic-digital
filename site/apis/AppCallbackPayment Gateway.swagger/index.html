<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Ivan Prieto">
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>AppCallbackPayment Gateway.swagger - Millicom Digital</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">Millicom Digital</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Products <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../catalog/">Catalogo</a>
</li>
                            
<li >
    <a href="../../amazon/">Amazon</a>
</li>
                            
<li >
    <a href="../../tigoshop/">Shop</a>
</li>
                            
<li >
    <a href="../../mitigo/">Mi Tigo</a>
</li>
                            
<li >
    <a href="../../bot/">Bot</a>
</li>
                            
<li >
    <a href="../../mfs/">MFS</a>
</li>
                            
<li >
    <a href="../../mitigo-agent/">Mi Tigo Agent</a>
</li>
                            
<li >
    <a href="../../pos/">Distribution</a>
</li>
                            
<li >
    <a href="../../tbo/">Mi tigo B2B</a>
</li>
                            
<li >
    <a href="../../usa/">Tigo USA</a>
</li>
                            
<li >
    <a href="../../sports/">Tigo Sports</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Enablers <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../..">Tigo ID</a>
</li>
                            
<li >
    <a href="../../payment-gtw/">Payment Gateway</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Apis <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../Mobile Money API - Accounts.swagger/">Mobile Money API   Accounts.swagger</a>
</li>
                            
<li class="active">
    <a href="./">AppCallbackPayment Gateway.swagger</a>
</li>
                            
<li >
    <a href="../AppLinks/">AppLinks</a>
</li>
                            
<li >
    <a href="../B2B Selfcare API.swagger/">B2B Selfcare API.swagger</a>
</li>
                            
<li >
    <a href="../BSSPilot/">BSSPilot</a>
</li>
                            
<li >
    <a href="../Balance Management Service Api.swagger/">Balance Management Service Api.swagger</a>
</li>
                            
<li >
    <a href="../CallUsageDetails.swagger/">CallUsageDetails.swagger</a>
</li>
                            
<li >
    <a href="../ConvergentPaymentAPI.swagger/">ConvergentPaymentAPI.swagger</a>
</li>
                            
<li >
    <a href="../DeezerTelco/">DeezerTelco</a>
</li>
                            
<li >
    <a href="../Exacaster Next Best Offer API.swagger/">Exacaster Next Best Offer API.swagger</a>
</li>
                            
<li >
    <a href="../Fulfillment Payment Gateway.swagger/">Fulfillment Payment Gateway.swagger</a>
</li>
                            
<li >
    <a href="../GT Point Of Sale [PoS] API.swagger/">GT Point Of Sale [PoS] API.swagger</a>
</li>
                            
<li >
    <a href="../Home Self Care API.swagger/">Home Self Care API.swagger</a>
</li>
                            
<li >
    <a href="../Insurance API.swagger/">Insurance API.swagger</a>
</li>
                            
<li >
    <a href="../Internet Usage Data.swagger/">Internet Usage Data.swagger</a>
</li>
                            
<li >
    <a href="../Mobile Money API - Accounts.swagger/">Mobile Money API   Accounts.swagger</a>
</li>
                            
<li >
    <a href="../Mobile Money API - Transactions.swagger/">Mobile Money API   Transactions.swagger</a>
</li>
                            
<li >
    <a href="../Mobile Money API.swagger/">Mobile Money API.swagger</a>
</li>
                            
<li >
    <a href="../Mobile Self Care API.swagger/">Mobile Self Care API.swagger</a>
</li>
                            
<li >
    <a href="../Modify Favorite Number Api.swagger/">Modify Favorite Number Api.swagger</a>
</li>
                            
<li >
    <a href="../Music Freedom SV API.swagger/">Music Freedom SV API.swagger</a>
</li>
                            
<li >
    <a href="../Netflix partner/">Netflix partner</a>
</li>
                            
<li >
    <a href="../Next Best Action-Offers.swagger/">Next Best Action Offers.swagger</a>
</li>
                            
<li >
    <a href="../OpenTIGO - Billing/">OpenTIGO   Billing</a>
</li>
                            
<li >
    <a href="../OpenTIGO - CRM/">OpenTIGO   CRM</a>
</li>
                            
<li >
    <a href="../OpenTIGO - Common/">OpenTIGO   Common</a>
</li>
                            
<li >
    <a href="../OpenTIGO - Favorites/">OpenTIGO   Favorites</a>
</li>
                            
<li >
    <a href="../OpenTIGO - Lend/">OpenTIGO   Lend</a>
</li>
                            
<li >
    <a href="../OpenTIGO - Push/">OpenTIGO   Push</a>
</li>
                            
<li >
    <a href="../OpenTIGO - Utils/">OpenTIGO   Utils</a>
</li>
                            
<li >
    <a href="../OpenTigo Balance Management/">OpenTigo Balance Management</a>
</li>
                            
<li >
    <a href="../Payment Gateway.swagger/">Payment Gateway.swagger</a>
</li>
                            
<li >
    <a href="../Recharge Service Api.swagger/">Recharge Service Api.swagger</a>
</li>
                            
<li >
    <a href="../SMS Usage Details.swagger/">SMS Usage Details.swagger</a>
</li>
                            
<li >
    <a href="../Self Care API - DESIGN ONLY.swagger/">Self Care API   DESIGN ONLY.swagger</a>
</li>
                            
<li >
    <a href="../Selfcare API Billing.swagger/">Selfcare API Billing.swagger</a>
</li>
                            
<li >
    <a href="../Selfcare API CRM.swagger/">Selfcare API CRM.swagger</a>
</li>
                            
<li >
    <a href="../Selfcare API Transactions.swagger/">Selfcare API Transactions.swagger</a>
</li>
                            
<li >
    <a href="../Sim Swap Events.swagger/">Sim Swap Events.swagger</a>
</li>
                            
<li >
    <a href="../SimCard management API.swagger/">SimCard management API.swagger</a>
</li>
                            
<li >
    <a href="../Tigo - Activation API.swagger/">Tigo   Activation API.swagger</a>
</li>
                            
<li >
    <a href="../Tigo - Profiling API.swagger/">Tigo   Profiling API.swagger</a>
</li>
                            
<li >
    <a href="../Tigo Churn.swagger/">Tigo Churn.swagger</a>
</li>
                            
<li >
    <a href="../Tigo MSISDN Identification API.swagger/">Tigo MSISDN Identification API.swagger</a>
</li>
                            
<li >
    <a href="../Tigo Mobile PY Up-Selling Information API.swagger/">Tigo Mobile PY Up Selling Information API.swagger</a>
</li>
                            
<li >
    <a href="../Tigo Money HN.swagger/">Tigo Money HN.swagger</a>
</li>
                            
<li >
    <a href="../Tigo OAuth 2.0 API.swagger/">Tigo OAuth 2.0 API.swagger</a>
</li>
                            
<li >
    <a href="../TigoMobileProductsFulfillmentAPI/">TigoMobileProductsFulfillmentAPI</a>
</li>
                            
<li >
    <a href="../TigoMobileVASProductManagementAPI/">TigoMobileVASProductManagementAPI</a>
</li>
                            
<li >
    <a href="../UNE Accounts api.swagger/">UNE Accounts api.swagger</a>
</li>
                            
<li >
    <a href="../UberPOS.swagger/">UberPOS.swagger</a>
</li>
                            
<li >
    <a href="../Virtual Appointemnts and Geolocation API.swagger/">Virtual Appointemnts and Geolocation API.swagger</a>
</li>
                            
<li >
    <a href="../apiMobileSelfCare2.0/">apiMobileSelfCare2.0</a>
</li>
                            
<li >
    <a href="../opentigosmartapps-tigoExchange/">opentigosmartapps tigoExchange</a>
</li>
                            
<li >
    <a href="../tigo-events-publisher-node.swagger/">Tigo events publisher node.swagger</a>
</li>
                            
<li >
    <a href="../tigo_b2b_bo_billing_v2.swagger/">Tigo b2b bo billing v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_b2b_bo_selfcare_crm_v2.swagger/">Tigo b2b bo selfcare crm v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_b2b_co_billing_v2.swagger/">Tigo b2b co billing v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_b2b_co_selfcare_crm_v2.swagger/">Tigo b2b co selfcare crm v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_b2b_co_selfcare_transactions_v2.swagger/">Tigo b2b co selfcare transactions v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_b2b_gt_selfcare_crm_v2.swagger/">Tigo b2b gt selfcare crm v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_b2b_hn_billing_v2.swagger/">Tigo b2b hn billing v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_co_customerSupport_v1.swagger/">tigo co customerSupport v1.swagger</a>
</li>
                            
<li >
    <a href="../tigo_co_selfcare_crm_v1.swagger/">Tigo co selfcare crm v1.swagger</a>
</li>
                            
<li >
    <a href="../tigo_crm_co_digitalDocuments_v2.swagger/">tigo crm co digitalDocuments v2.swagger</a>
</li>
                            
<li >
    <a href="../tigo_home_sv_billing_v1.swagger/">Tigo home sv billing v1.swagger</a>
</li>
                            
<li >
    <a href="../tigo_mobile_bo_crm_v1.swagger/">Tigo mobile bo crm v1.swagger</a>
</li>
                            
<li >
    <a href="../tigo_mobile_gt_roaming_v1.swagger/">Tigo mobile gt roaming v1.swagger</a>
</li>
                            
<li >
    <a href="../tigo_sv_selfcare_crm_v1.swagger/">Tigo sv selfcare crm v1.swagger</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Procesess <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../processes/devBestPractices/">How we work</a>
</li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../Mobile Money API - Accounts.swagger/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../AppLinks/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#app-callback-payment-gateway">App Callback Payment Gateway</a></li>
            <li><a href="#security">Security</a></li>
            <li><a href="#producttypeorderspurchaseorderidpayment">/{productType}/orders/{purchaseOrderId}/payment</a></li>
            <li><a href="#producttypeorderspurchaseorderidfulfillment">/{productType}/orders/{purchaseOrderId}/fulfillment</a></li>
            <li><a href="#models">Models</a></li>
            <li><a href="#paymentinfo">PaymentInfo</a></li>
            <li><a href="#link">Link</a></li>
            <li><a href="#namevaluepairlist">NameValuePairList</a></li>
            <li><a href="#namevaluepair">NameValuePair</a></li>
            <li><a href="#paymentinstrument">PaymentInstrument</a></li>
            <li><a href="#error">Error</a></li>
            <li><a href="#errorbody">errorBody</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="app-callback-payment-gateway">App Callback Payment Gateway</h1>
<p>This is the specification that, any App integrating payment gateway functionalities, must implement in order to receive call backs for two events.
<ul>
<li>Processing Completed</li>
<li>Fulfillment Completed</li>
</ul></p>
<p>This callbacks will enable asynchronous processing of the payment, so the App does not need to keep polling for the result. Although APIs to poll the result will be provided too.
It is expected that the App host these callbacks in their App Servers supporting HTTPS.</p>
<p>The base path expressed here is relative to the App Server URL. Meaning that if for example the App Server handle all API calls in this URL:</p>
<p><code>https://micuenta.tigo.com.sv/api/</code></p>
<p>the base path expresed here will be added at the end that URL. This will be the suggested base path:</p>
<p><code>/v1/paymentgateway/callbacks/</code></p>
<p>So the combined base path for the example will be</p>
<p><code>https://micuenta.tigo.com.sv/api/v1/paymentgateway/callbacks/</code></p>
<p>This solution is to be used in all countries, since it is assumed each country host each App Server in a different URL, the country will be simply part of the callback URL and we don't need a parameter for that.</p>
<p>Apps like "Mi Tigo", also known as "Mi Cuenta" may need to have different types of payments within the same App. 
For example they may need to offer invoice payment for mobile phone, invoice payments for the home business, core balance top-up for hybrid-accounts and even directly selling some on demand content.
Each one of this product types have:
  * Different fulfillment APIs in the countrie's billing system
  * Different rules for minimum amount, maximum amount and velocity
  * May even have different payment methods available, some may be too expensive for a $1 topup
  * Different fraud prevention rules like for example the acceptance of international credit cards</p>
<p>For these reasons, each different product type will have its own App entity in the Payment Gateway and so, will have its own set of callback URL for both payemnt and fulfillment, 
so any information about the business unit and product can be part of the url as a fixed hierarchy. For example:</p>
<ul>
<li><code>/v1/paymentgateway/callbacks/home/invoices</code></li>
<li><code>/v1/paymentgateway/callbacks/mobile/topups</code></li>
<li><code>/v1/paymentgateway/callbacks/convergent/invoices</code></li>
</ul>
<p>And finally all callbacks will receive the Order Id as part of the callback URL, plus the type of callback as the resource being modified.
So notify about payment information of an order this will be method used:</p>
<p><code>/orders/{purchaseOrderId}/payment</code></p>
<p>And to notify about fulfillment information of an order this will be the method used:</p>
<p><code>/orders/{purchaseOrderId}/fulfillment</code></p>
<p>Here are two example of full callback URLs.</p>
<p>Sample URL to notify the App Server that a payment was processed. The App may consider this the final step and notify the user that the payment was approved. And trust the Payment Gateway to complete the fulfillment on the billing systems asyncrhonously.</p>
<p><code>https://micuenta.tigo.com.sv/api/v1/paymentgateway/callbacks/home/invoices/orders/{purchaseOrderId}/payment</code></p>
<p>Sample URL to notify the App Server that the fulfillment was completed. In a topup scenario, the fulfillment is more important than the payment, because if the payment is approved but the topup cannot be completed because the number was invalid or any other reason, the user needs to know as soon as possible that the transaction was not completed (and payment was rollbacked).</p>
<p><code>https://shop.tigo.com.hn/api/v1/paymentgateway/callbacks/mobile/topups/orders/{purchaseOrderId}/fulfillment</code></p>
<p><i>This is the MVP. In this section we will be summarizing all the doubts that are raised with the teams of the different teams to remain with the questions and their respective answers.</i></p>
<p>The details of the related concepts are described in the following document-</p>
<p>https://millicom-my.sharepoint.com/personal/andres_cavallin_millicom_com/_layouts/15/guestaccess.aspx?guestaccesstoken=JvRZ65J8I9FUZpUwLQRYJWRPu8%2fgVvaA2zUCn0BMm4s%3d&amp;docid=2_121c58b7e6f6043a1a37d9ff3edf9a2d5&amp;rev=1</p>
<p><strong>Version:</strong> 1.0.0</p>
<p><strong>Terms of service:</strong><br />
http://swagger.io/terms/</p>
<p><strong>Contact information:</strong><br />
Andrï¿½s Cavallin<br />
http://www.millicom.com<br />
andres.cavallin@millicom.com  </p>
<p><strong>License:</strong> <a href="http://github.com/gruntjs/grunt/blob/master/LICENSE-MIT">MIT</a></p>
<h3 id="security">Security</h3>
<hr />
<p><strong>backend_auth</strong>  </p>
<table>
<thead>
<tr>
<th>apiKey</th>
<th><em>API Key</em></th>
</tr>
</thead>
<tbody>
<tr>
<td>Description</td>
<td>This is the security that must be implemented by the countries, in addition to any authentication mechanism they have, this additional security serves to sign the message. Since the message is signed, the App Server can be sure the payment is real and that it was not forged by any other party, for example, a developer with access to the callback API.  Another benefit of the Token is that the token can be passed through proxies without the need for those proxies to know the signing details and password.  Use of JWT standard was discarded since JWT allows for for the caller to set the hash algorithm to 'None', effectively bypassing the security. For that reason we are going to force the algorithm to HMAC with SHA-256 using a pre-shared key.  The payload to be signed will include the following values (Note: paymentRegistrationId is only included in the Fulfillment callback):  'productType' + 'IdType' + 'id' +  'purchaseOrderId' + 'paymentCurrencyId' + 'paymentAmount' +  'paymentApproved' + 'paymentGatewayTransactionId' +  'RegistrationDate' + 'paymentRegistrationId' + '[pre-shared secret]'</td>
</tr>
<tr>
<td>Name</td>
<td>Token</td>
</tr>
<tr>
<td>In</td>
<td>header</td>
</tr>
</tbody>
</table>
<h3 id="producttypeorderspurchaseorderidpayment">/{productType}/orders/{purchaseOrderId}/payment</h3>
<hr />
<h5 id="put"><strong><em>PUT</em></strong></h5>
<p><strong>Summary:</strong> Update Payment Information By purchaseOrderId</p>
<p><strong>Description:</strong> Payment Information including final result and validation token for the specied purchaseOrderId</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Located in</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td>productType</td>
<td>path</td>
<td>Product Category Name for which this payment registration is intended</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>purchaseOrderId</td>
<td>path</td>
<td>Unique identification of the Order being updated. Known as purchaseOrderId for the PaymentGateway.</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>payment</td>
<td>body</td>
<td>Information about the payment processing result</td>
<td>Yes</td>
<td><a href="#paymentinfo">PaymentInfo</a></td>
</tr>
</tbody>
</table>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Information about the order specified by Order Id was received</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td>Forbidden or Invalid Token. Check <code>error.message</code> for details. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>404</td>
<td>The specified <code>purchaseOrderId</code> does not exists. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>409</td>
<td>Duplicate update callback. Not accepted. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>412</td>
<td>Parameters validation failed. Will not accept. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>default</td>
<td>unexpected error. Callback must be retried in a few seconds.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
</tbody>
</table>
<h3 id="producttypeorderspurchaseorderidfulfillment">/{productType}/orders/{purchaseOrderId}/fulfillment</h3>
<hr />
<h5 id="put_1"><strong><em>PUT</em></strong></h5>
<p><strong>Summary:</strong> Update Fulfillment Information By purchaseOrderId</p>
<p><strong>Description:</strong> Fulfillment Information including final result and validation token for the specied purchaseOrderId</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Located in</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td>productType</td>
<td>path</td>
<td>Product Category Name for which this payment registration is intended</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>purchaseOrderId</td>
<td>path</td>
<td>Unique identification of the Order being updated. Known as purchaseOrderId for the Payment Gateway.</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>fulfillment</td>
<td>body</td>
<td>Information about the fulfillment registration result</td>
<td>Yes</td>
<td><a href="#paymentinfo">PaymentInfo</a></td>
</tr>
</tbody>
</table>
<p><strong>Responses</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
<th>Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>Information about the order specified by Order Id was received</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td>Forbidden or Invalid Token. Check <code>error.message</code> for details. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>404</td>
<td>The specified <code>purchaseOrderId</code> does not exists. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>409</td>
<td>Duplicate update callback. Not accepted. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>412</td>
<td>Parameters validation failed. Will not accept. Log error and trigger notification. Don't Retry.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
<tr>
<td>default</td>
<td>unexpected error. Callback must be retried in a few seconds.</td>
<td><a href="#errorbody">errorBody</a></td>
</tr>
</tbody>
</table>
<h3 id="models">Models</h3>
<hr />
<h3 id="paymentinfo">PaymentInfo</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>idType</td>
<td>string</td>
<td>Type of the Unique number of identification in the billing system</td>
<td>No</td>
</tr>
<tr>
<td>Id</td>
<td>string</td>
<td>The account Id or account number of type idType</td>
<td>No</td>
</tr>
<tr>
<td>paymentAmount</td>
<td>number</td>
<td>Amount to be paid for the particular invoice and ContractNumber.</td>
<td>Yes</td>
</tr>
<tr>
<td>paymentCurrencyId</td>
<td>string</td>
<td>Three digit ISO identifier of the currency in which the payment is being posted.</td>
<td>Yes</td>
</tr>
<tr>
<td>paymentApproved</td>
<td>boolean</td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td>paymentResultCode</td>
<td>number</td>
<td></td>
<td>No</td>
</tr>
<tr>
<td>paymentGatewayTransactionId</td>
<td>string</td>
<td>This is the TransactionID of our Millicom Payment Gateway</td>
<td>Yes</td>
</tr>
<tr>
<td>paymentProcessorTransactionId</td>
<td>string</td>
<td>This is the TransactionID of our Payment Gateway, at the point of writing this documentation this is the Cybersource Payment Gateway transactionID</td>
<td>No</td>
</tr>
<tr>
<td>authorizationCode</td>
<td>string</td>
<td>This is the authorization code of the reconciliation</td>
<td>No</td>
</tr>
<tr>
<td>paymentProcessorId</td>
<td>string</td>
<td>Id of the processor identification, this must be a descriptive indetificator</td>
<td>No</td>
</tr>
<tr>
<td>merchantId</td>
<td>string</td>
<td>Id of the Merchant code registered on the bank institution</td>
<td>No</td>
</tr>
<tr>
<td>merchantName</td>
<td>string</td>
<td>Friendly name of the Merchant registered on the bank institution</td>
<td>No</td>
</tr>
<tr>
<td>registrationDate</td>
<td>date</td>
<td>Date when the payment was registered in ISO 8601 format</td>
<td>Yes</td>
</tr>
<tr>
<td>fulfillmentSucceded</td>
<td>boolean</td>
<td>True if the fulfillment was completed sucessfully. Not available on payment callback, only on fulfillment callback.</td>
<td>No</td>
</tr>
<tr>
<td>paymentRegistrationId</td>
<td>string</td>
<td>This is the id of this payment registration in the billing system. Not available on payment callback, only on fulfillment callback.</td>
<td>No</td>
</tr>
<tr>
<td>customerIpAddress</td>
<td>string</td>
<td>IP Address from client that submitted the registration, if it was online.</td>
<td>No</td>
</tr>
<tr>
<td>paymentInstrument</td>
<td><a href="#paymentinstrument">PaymentInstrument</a></td>
<td></td>
<td>No</td>
</tr>
<tr>
<td>nameValuePairList</td>
<td><a href="#namevaluepairlist">NameValuePairList</a></td>
<td></td>
<td>No</td>
</tr>
<tr>
<td>links</td>
<td>[ <a href="#link">Link</a> ]</td>
<td>This is an array with the options that they can operate with the response. This is the aplicatino of HATEOAS</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="link">Link</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>href</td>
<td>string</td>
<td>This is the url of the method, in the first aproach we are going to use get order information and payment information. With this architecture we can use it asynchronous</td>
<td>No</td>
</tr>
<tr>
<td>rel</td>
<td>string</td>
<td>Description of the action in the method</td>
<td>No</td>
</tr>
<tr>
<td>method</td>
<td>string</td>
<td>Name of the HTTP method.</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="namevaluepairlist">NameValuePairList</h3>
<p>An array of Name and Value pair to pass generic data</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>NameValuePairList</td>
<td>array</td>
<td>An array of Name and Value pair to pass generic data</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="namevaluepair">NameValuePair</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>This is the name of the of data</td>
<td>No</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>this is the value</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="paymentinstrument">PaymentInstrument</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>paymentMethodId</td>
<td>number</td>
<td>Id of the Payment Instrument used for the payment</td>
<td>No</td>
</tr>
<tr>
<td>paymentMethodName</td>
<td>string</td>
<td>Friendly Name of the Payment Instrument used for the payment</td>
<td>No</td>
</tr>
<tr>
<td>maskedAccountId</td>
<td>string</td>
<td>For credit cards, first 4 and last 6. For other payment types, the accountid masked according to security best practices. For MFS it could be the MSISDN</td>
<td>No</td>
</tr>
<tr>
<td>expirationDate</td>
<td>date</td>
<td></td>
<td>No</td>
</tr>
<tr>
<td>bankName</td>
<td>string</td>
<td>The bank institution associated witht he payment</td>
<td>No</td>
</tr>
<tr>
<td>cardBrand</td>
<td>string</td>
<td>Franchise or Brand of the registered card</td>
<td>No</td>
</tr>
<tr>
<td>tokenized</td>
<td>boolean</td>
<td>True if the credit card information came from a token and not from user input</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="error">Error</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>integer</td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="errorbody">errorBody</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>integer</td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>Yes</td>
</tr>
</tbody>
</table></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script src="../../js/base.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
